> å¦‚æœé˜…è?»æ—¶ï¼Œå‘ç°é”™è¯?ï¼Œæˆ–è€…åŠ¨ç”»ä¸å?ä»¥æ˜¾ç¤ºçš„é—?é¢˜å¯ä»¥æ·»åŠ æˆ‘å¾?ä¿¡å¥½å? **[tan45du_one](https://raw.githubusercontent.com/tan45du/tan45du.github.io/master/ä¸?äººå¾®ä¿?.15egrcgqd94w.jpg)** ï¼Œå?‡æ³¨ github + é¢˜ç›® + é—?é¢? å‘æˆ‘åé??
>
> æ„Ÿè°¢æ”?æŒï¼Œè¯¥ä»“åº“ä¼šä¸€ç›´ç»´æŠ¤ï¼Œå¸Œæœ›å¯¹å„ä½æœ‰ä¸€ä¸?ä¸¢å¸®åŠ©ã€?
>
> å¦å?–å¸Œæœ›æ‰‹æœºé˜…è¯»çš„åŒå?¦å¯ä»¥æ¥æˆ‘çš„ <u>[**å…?ä¼—å·ï¼šè?å¨çš„ç®—æ³•å°å±?**](https://raw.githubusercontent.com/tan45du/test/master/å¾?ä¿¡å›¾ç‰‡_20210320152235.2pthdebvh1c0.png)</u> ä¸¤ä¸ªå¹³å°åŒæ?¥ï¼Œæƒ³è?å’Œé¢˜å‹ä¸€èµ·åˆ·é¢˜ï¼Œäº’ç›¸ç›‘ç£çš„åŒå­¦ï¼Œå?ä»¥åœ¨æˆ‘çš„å°å±‹ç‚¹å‡»<u>[**åˆ·é?˜å°é˜?**](https://raw.githubusercontent.com/tan45du/test/master/å¾?ä¿¡å›¾ç‰‡_20210320152235.2pthdebvh1c0.png)</u>è¿›å…¥ã€?

#### [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/)

## é¢˜ç›®æè¿°ï¼?

> ç»™ä½ ä¸€ä¸?åŒ…å« n ä¸?æ•´æ•°çš„æ•°ç»? numsï¼Œåˆ¤æ–? nums ä¸?æ˜?å¦å­˜åœ¨ä¸‰ä¸?å…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾? a + b + c = 0 ï¼Ÿè?·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€?
>
> æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å?é‡å?çš„ä¸‰å…ƒç»„ã€?

ç¤ºä¾‹ï¼?

> ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼?
>
> æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š
> [
> [-1, 0, 1],
> [-1, -1, 2]
> ]

è¿™ä¸ªé¢˜ç›®ç®—æ˜¯å¯¹åˆšæ‰é?˜ç›®çš„å‡çº§ï¼Œåˆšæ‰é¢˜ç›®æˆ‘ä»¬æ˜?å?éœ€è¿”å›ä¸€ä¸?ä¾‹å­å³å¯ï¼Œä½†æ˜?è¿™ä¸ªé¢˜ç›®æ˜?è®©æˆ‘ä»?è¿”å›æ‰€æœ‰æƒ…å†µï¼Œè¿™ä¸ªé¢˜ç›®æˆ‘ä»¬éœ€è¦è¿”å›ä¸‰ä¸?æ•°ç›¸åŠ ä¸º 0 çš„æ‰€æœ‰æƒ…å†µï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å»æ‰é‡å¤çš„ä¸‰å…ƒç»?(ç®—æ˜¯è¯¥é?˜çš„æ ¸å¿ƒ)ï¼Œæ‰€ä»¥è¿™ä¸?é¢˜ç›®è¿˜æ˜¯æŒºæœ‰è¶£çš„ï¼Œå¤§å®¶è?°å¾—æ‰“å¡å‘€ã€?

### å“ˆå¸Œè¡?ï¼?

#### è§£æ

æˆ‘ä»¬è¿™ä¸ªé¢˜ç›®çš„å“ˆå¸Œè¡¨è§£æ³•æ˜?å¾ˆå?¹æ˜“ç†è§£çš„ï¼Œæˆ‘ä»¬é¦–å…ˆå°†æ•°ç»„æ’åºï¼Œæ’åºä¹‹åæˆ‘ä»¬å°†æ’åºè¿‡çš„å…ƒç´ å­˜å…¥å“ˆå¸Œè¡¨ä¸?ï¼Œæˆ‘ä»?é¦–å…ˆé€šè¿‡ä¸¤å±‚éå†ï¼Œç¡®å®šå¥½å‰ä¸¤ä½æ•°å­—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å?éœ€è¦å“ˆå¸Œè¡¨æ˜?å¦å­˜åœ¨ç?¦åˆæƒ…å†µçš„ç??ä¸‰ä½æ•°å­—å³å¯ï¼Œè·Ÿæš´åŠ›è§£æ³•çš„æ€è·¯ç±»ä¼¼ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼?

ä½†æ˜¯è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æƒ…å†µå°±æ˜¯ï¼Œä¾‹å¦‚æˆ‘ä»?çš„ä¾‹å­ä¸º[-2 , 1 , 1],å¦‚æœæˆ‘ä»¬å®Œå…¨æŒ‰ç…§ä»¥ä¸Šæ€è·¯æ¥çš„è¯ï¼Œåˆ™ä¼šå‡ºç°ä¸¤ä¸ªè§£ï¼Œ[-2 , 1 , 1]å’Œ[1 , 1, -2]ã€‚å…·ä½“åŸå› ï¼Œç¡?å®? -2ï¼?1 ä¹‹åå‘ç° 1 åœ¨å“ˆå¸Œè¡¨ä¸?ï¼Œå­˜å…¥ã€‚ç¡®å®? 1 ï¼?1 ä¹‹åå‘ç° -2 åœ¨å“ˆå¸Œè¡¨ä¸?ï¼Œå­˜å…¥ã€?

æ‰€ä»¥æˆ‘ä»?éœ€è¦åŠ å…¥ä¸€ä¸?çº¦æŸé¿å…è¿™ç?æƒ…å†µï¼Œé‚£å°±æ˜?æˆ‘ä»¬ç¬?ä¸‰ä¸ªæ•°çš„ç´¢å¼•å¤§äºç¬?äºŒä¸ªæ•°æ—¶æ‰å­˜å…¥ã€?

![640](https://cdn.jsdelivr.net/gh/tan45du/tan45du.github.io.photo@master/photo/640.9tp5a5guhr0.png)

ä¸Šé¢è¿™ç?æƒ…å†µæ—¶æ˜?ä¸å¯ä»¥å­˜å…¥çš„ï¼Œå› ä¸ºæˆ‘ä»?è™½ç„¶åœ¨å“ˆå¸Œè¡¨ä¸?æ‰¾åˆ°äº†ç?¦åˆè¦æ±‚çš„å€¼ï¼Œä½†æ˜¯ -2 çš„ç´¢å¼•ä¸º 0 å°äº 2 æ‰€ä»¥ä¸å?ä»¥å­˜å…¥ã€?

#### é¢˜ç›®ä»£ç 

```java
class Solution {
    public List<List<Integer>> threeSum (int[] nums) {
       if (nums.length < 3) {
           return new ArrayList<>();
       }
       //æ’åº
       Arrays.sort(nums);
       HashMap<Integer,Integer> map = new HashMap<>();
       List<List<Integer>> resultarr = new ArrayList<>();
       //å­˜å…¥å“ˆå¸Œè¡?
       for (int i = 0; i < nums.length; i++) {
           map.put(nums[i],i);
       }
       Integer t;
       int target = 0;
       for (int i = 0; i < nums.length; ++i) {
            target = -nums[i];
            //å»é‡
            if (i > 0 && nums[i] == nums[i-1]) {
                continue;
            }
            for (int j = i + 1; j < nums.length; ++j) {
                if (j > i+1 && nums[j] == nums[j-1]) {
                    continue;
                }
                if ((t = map.get(target - nums[j])) != null) {
                    //ç¬¦åˆè¦æ±‚çš„æƒ…å†?,å­˜å…¥
                    if (t > j) {
                       resultarr.add(new ArrayList<>
                       (Arrays.asList(nums[i], nums[j], nums[t])));

                    }
                    else {
                        break;
                    }
                }
            }
       }
       return resultarr;
    }
}
```

### å¤šæŒ‡é’?

#### è§£æï¼?

å¦‚æœæˆ‘ä»¬å°†ä¸Šä¸?é¢˜ç›®å¾—æŒ‡é’ˆè§£æ³•ç§°åšæ˜¯åŒæŒ‡é’ˆçš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªé¢˜ç›®ç”¨åˆ°çš„æ–¹æ³•å°±æ˜?ä¸‰æŒ‡é’ˆï¼Œå› ä¸ºæˆ‘ä»¬æ˜?ä¸‰æ•°ä¹‹å’Œå˜›ï¼Œä¸€ä¸?æŒ‡é’ˆå¯¹åº”ä¸€ä¸?æ•°ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹å…·ä½“æ€è·¯ï¼Œå…¶å®åŸç†å¾ˆç®€å•ï¼Œæˆ‘ä»¬å…ˆå°†æ•°ç»„æ’åºï¼Œç›´æ? Arrays.sort() è§£å†³ï¼Œæ’åºä¹‹åå?„ç†èµ·æ¥å°±å¾ˆå®¹æ˜“äº†ã€?

ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸‰ä¸?æŒ‡é’ˆçš„åˆå§‹ä½ç½?ã€?

![ä¸‰æ•°ä¹‹å’Œèµ·å?‹](https://cdn.jsdelivr.net/gh/tan45du/tan45du.github.io.photo@master/photo/ä¸‰æ•°ä¹‹å’Œèµ·å??.44vete07oy80.png)

åˆå?‹æƒ…å†µè?ä¸Šå›¾ï¼Œæˆ‘ä»¬çœ‹å½“å‰æƒ…å†µï¼Œä¸‰æ•°ä¹‹å’Œä¸? -3 ï¼Œå¾ˆæ˜¾ç„¶ä¸æ˜¯ 0 ï¼Œé‚£ä¹ˆæˆ‘ä»?åº”è?¥æ€ä¹ˆåšå‘¢ï¼?

æˆ‘ä»¬è®¾æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬å½“å‰çš„ä¸‰æ•°ä¹‹å’Œä¸º -3 < 0 é‚£ä¹ˆæˆ‘ä»¬å¦‚æœç§»åŠ¨æ©™è‰²æŒ‡é’ˆçš„è¯åˆ™ä¼šè®©æˆ‘ä»?çš„ä¸‰æ•°ä¹‹å’Œå˜çš„æ›´å°ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ•°ç»„æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥æˆ‘ä»?ç§»åŠ¨æ©™è‰²æŒ‡é’ˆï¼ˆè“è‰²ä¸åŠ?ï¼‰æ—¶å’Œä¼šå˜å°ï¼Œå?‚æœç§»åŠ¨è“è‰²æŒ‡é’ˆï¼ˆæ?™è‰²ä¸åŠ¨ï¼‰çš„è¯ï¼Œä¸‰æ•°ä¹‹å’Œåˆ™ä¼šå˜å¤§ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µåˆ™éœ€è¦å‘å³ç§»åŠ¨æˆ‘ä»?çš„è“è‰²æŒ‡é’ˆï¼Œ

æ‰¾åˆ°ä¸‰æ•°ä¹‹å’Œç­‰äº 0 çš„æƒ…å†µè¿›è¡Œä¿å­˜ï¼Œå¦‚æœä¸‰æ•°ä¹‹å’Œå¤§äº 0 çš„è¯ï¼Œåˆ™éœ€è¦ç§»åŠ¨æ?™è‰²æŒ‡é’ˆï¼Œé€”ä¸­æœ‰ä¸‰æ•°ä¹‹å’Œä¸º 0 çš„æƒ…å†µåˆ™ä¿å­˜ã€‚ç›´è‡³è“æ©™ä¸¤æŒ‡é’ˆç›¸é‡è·³å‡ºè¯¥æ?¡å¾ªç?ï¼Œç„¶åæˆ‘ä»?çš„ç»¿æŒ‡é’ˆå³ç§»ä¸€æ­¥ï¼Œç»§ç»­æ‰§è?Œä¸Šè¯‰æ?¥é?¤ã€?

ä½†æ˜¯è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„ä¸€ä¸?ç»†èŠ‚å°±æ˜¯ï¼Œæˆ‘ä»?éœ€è¦å»é™¤ç›¸åŒä¸‰å…ƒç»„çš„æƒ…å†µï¼Œæˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¾‹å­ã€?

![ä¸‰æ•°ä¹‹å’Œä¸¾ä¾‹](https://cdn.jsdelivr.net/gh/tan45du/tan45du.github.io.photo@master/photo/ä¸‰æ•°ä¹‹å’Œä¸¾ä¾‹.69b6nvlu4zc0.png)

è¿™é‡Œæˆ‘ä»¬å‘ç° 0 - 1 + 1 = 0ï¼Œå½“å‰æƒ…å†µæ˜¯ç¬¦åˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»?éœ€è¦å­˜å…¥è?¥ä¸‰å…ƒç»„ï¼Œå­˜å…¥åï¼Œè“è‰²æŒ‡é’ˆå‘åç§»åŠ¨ä¸€æ­¥ï¼Œæ©™è‰²æŒ‡é’ˆå‘å‰ç§»åŠ¨ä¸€æ­¥ï¼Œæˆ‘ä»¬å‘ç°ä»ä¸º 0 -1 + 1 = 0 ä»ç„¶ç¬¦åˆï¼Œä½†æ˜?å¦‚æœç»§ç»­å­˜å…¥è¯¥ä¸‰å…ƒç»„çš„è¯åˆ™ä¸ç¬¦åˆé¢˜æ„ï¼Œæ‰€ä»¥æˆ‘ä»?éœ€è¦å»é‡ã€?

è¿™é‡Œå?ä»¥å€ŸåŠ© HashSet ä½†æ˜¯æ•ˆç‡å¤?å·?ï¼Œä¸æ¨èã€?

è¿™é‡Œæˆ‘ä»¬å?ä»¥ä½¿ç”? while å¾?ç?å°†è“è‰²æŒ‡é’ˆç§»åŠ¨åˆ°ä¸å’Œåˆšæ‰ç›¸åŒçš„ä½ç½?ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥ç§»åŠ¨åˆ°å…ƒç´? 0 ä¸Šï¼Œæ©™è‰²æŒ‡é’ˆåŒæ ·ä¹Ÿæ˜¯ã€‚åˆ™æ˜?ä¸‹é¢è¿™ç?æƒ…å†µï¼Œ

è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†å»é‡ï¼Œç„¶åç»§ç»?åˆ¤æ–­å½“å‰ä¸‰æ•°ä¹‹å’Œæ˜?å¦ä¸º 0 ã€?

![ä¸‰æ•°ä¹‹å’Œä¾‹å­](https://cdn.jsdelivr.net/gh/tan45du/tan45du.github.io.photo@master/photo/ä¸‰æ•°ä¹‹å’Œä¾‹å­.6c8xobhrieg0.png)

**åŠ¨å›¾è§£æï¼?**

![ä¸‰æ•°ä¹‹å’Œ](https://cdn.jsdelivr.net/gh/tan45du/tan45du.github.io.photo@master/photo/ä¸‰æ•°ä¹‹å’Œ.5akhtx5y0g00.gif)

#### é¢˜ç›®ä»£ç ï¼?

```java
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        List<List<Integer>> arr = new ArrayList<List<Integer>>();
        if(nums.length < 3){
            return arr;
        }
        //æ’åº
        Arrays.sort(nums);
        if(nums[0] > 0){
            return arr;
        }
        for(int i = 0; i < nums.length-2; i++){
            int target = 0 - nums[i];
            //å»é‡
            if(i > 0 && nums[i] == nums[i-1]){
                continue;
            }
            int l = i+1;
            int r = nums.length - 1;
            while(l < r){
                if(nums[l] + nums[r] == target){
                    //å­˜å…¥ç¬¦åˆè¦æ±‚çš„å€?
                    arr.add(new ArrayList<>(Arrays.asList(nums[i], nums[l], nums[r])));
                    //è¿™é‡Œéœ€è¦æ³¨æ„é¡ºåº?
                    while(l < r && nums[l] == nums[l+1]) l++;
                    while(l < r && nums[r] == nums[r-1]) r--;
                    l++;
                    r--;
                }
                else if(nums[l] + nums[r] > target){
                    r--;
                }
                else{
                    l++;
                }
            }
        }
        return arr;
    }
}
```

Go Code:

```go
func threeSum(nums []int) [][]int {
    res := [][]int{}
    length := len(nums)
    if length < 3 {
        return res
    }

    sort.Ints(nums)
    for i := 0; i < length - 2; i++ {
        // å»é‡
        if i != 0 && nums[i] == nums[i - 1] {
            continue
        }
        l, r := i + 1, length - 1
        for l < r {
            /*
            // ä¸‹é¢ä¸¤ä¸ªforå¾?ç?çš„å»é‡ä¹Ÿå?ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ›¿æ?
            if l != i + 1 && nums[l] == nums[l - 1] {
                l++
                continue
            }
            */
            if nums[i] + nums[l] + nums[r] == 0 {
                res = append(res, []int{nums[i], nums[l], nums[r]})
                for l < r && nums[l] == nums[l + 1] {
                    l++
                }
                for l < r && nums[r] == nums[r - 1] {
                    r--
                }
                l++
                r--
            } else if nums[i] + nums[l] + nums[r] < 0 {
                l++
            } else {
                r--
            }

        }
    }
    return res
}
```

