> å¦‚æœé˜…è?»æ—¶ï¼Œå‘ç°é”™è¯?ï¼Œæˆ–è€…åŠ¨ç”»ä¸å?ä»¥æ˜¾ç¤ºçš„é—?é¢˜å¯ä»¥æ·»åŠ æˆ‘å¾?ä¿¡å¥½å? **[tan45du_one](https://raw.githubusercontent.com/tan45du/tan45du.github.io/master/ä¸?äººå¾®ä¿?.15egrcgqd94w.jpg)** ï¼Œå?‡æ³¨ github + é¢˜ç›® + é—?é¢? å‘æˆ‘åé??
>
> æ„Ÿè°¢æ”?æŒï¼Œè¯¥ä»“åº“ä¼šä¸€ç›´ç»´æŠ¤ï¼Œå¸Œæœ›å¯¹å„ä½æœ‰ä¸€ä¸?ä¸¢å¸®åŠ©ã€?
>
> å¦å?–å¸Œæœ›æ‰‹æœºé˜…è¯»çš„åŒå?¦å¯ä»¥æ¥æˆ‘çš„ <u>[**å…?ä¼—å·ï¼šè?å¨çš„ç®—æ³•å°å±?**](https://raw.githubusercontent.com/tan45du/test/master/å¾?ä¿¡å›¾ç‰‡_20210320152235.2pthdebvh1c0.png)</u> ä¸¤ä¸ªå¹³å°åŒæ?¥ï¼Œæƒ³è?å’Œé¢˜å‹ä¸€èµ·åˆ·é¢˜ï¼Œäº’ç›¸ç›‘ç£çš„åŒå­¦ï¼Œå?ä»¥åœ¨æˆ‘çš„å°å±‹ç‚¹å‡»<u>[**åˆ·é?˜å°é˜?**](https://raw.githubusercontent.com/tan45du/test/master/å¾?ä¿¡å›¾ç‰‡_20210320152235.2pthdebvh1c0.png)</u>è¿›å…¥ã€?

# **ä¸å®Œå…¨æœ‰åº?**

## **æŸ¥æ‰¾ç›?æ ‡å…ƒç´ ï¼ˆä¸å«é‡å?å…ƒç´ ï¼‰**

ä¹‹å‰æˆ‘ä»¬è¯´äºŒåˆ†æŸ¥æ‰¾éœ€è¦åœ¨å®Œå…¨æœ‰åºçš„æ•°ç»„é‡Œä½¿ç”¨ï¼Œé‚£ä¹ˆä¸å®Œå…¨æœ‰åºæ—¶å¯ä»¥ç”¨å—ï¼Ÿ

ä¾‹ï¼š

![](https://cdn.jsdelivr.net/gh/tan45du/photobed@master/photo/æ¡ˆä¾‹1.2wan88b4sdk0.png)

ä¸Šé¢çš„æ–°æ•°ç»„è™½ç„¶ä¸æ˜¯å®Œå…¨æœ‰åºï¼Œä½†æ˜?ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ç”±ä¸€ä¸?å®Œå…¨æœ‰åºçš„æ•°ç»„ç¿»æŠ˜å¾—åˆ°çš„ã€‚æˆ–è€…å¯ä»¥ç†è§£æˆä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œä¸”ç¬?äºŒä¸ªæ•°ç»„çš„æœ€å¤§å€¼å°äºç??ä¸€çš„æœ€å°å€¼ï¼Œæˆ‘ä»¬å°†å…¶æ‹¼æ¥ï¼Œæ‹¼æ¥æˆäº†ä¸€ä¸?ä¸å®Œå…¨æœ‰åºçš„æ•°ç»„ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸?æˆ‘ä»¬éœ€è¦æ‰¾åˆ? target ï¼Œæ‰¾åˆ°åè¿”å›å…¶ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›? -1ï¼?

æˆ‘ä»¬ç¬?ä¸€æ¬¡çœ‹åˆ°è¿™ç§é?˜ç›®æ—¶ï¼Œå?èƒ½ä¼šæƒ³åˆ°ï¼Œæˆ‘ä»?å?éœ€è¦æŒ¨ä¸?éå†å°±å¥½å•¦ï¼Œå‘ç°åè¿”å›ç´¢å¼•å³å?ï¼Œè¿™æ ·åšå½“ç„¶æ˜?å?ä»¥æ»´ï¼Œé‚£ä¹ˆæˆ‘ä»?å?ä¸å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å‘¢ï¼?

ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹è§£å†³è?¥é?˜çš„å…·ä½“æ€è·¯ã€?

é¦–å…ˆæˆ‘ä»¬è®¾æƒ³ä¸€ä¸? mid å€¼ä¼šè½åˆ°å“?é‡Œï¼Œæˆ‘ä»¬ä¸€èµ·æ¥æƒ³ä¸€ä¸‹ã€?

æ˜?ä¸æ˜¯å?æœ‰ä¸¤ç§æƒ…å†µï¼Œå’? left åœ¨ä¸€ä¸?æ•°ç»„ï¼ŒåŒæ—¶è½åœ? æ•°ç»„ 1 æˆ–åŒæ—¶åœ¨ æ•°ç»„ 2ï¼Œæˆ–è€…ä¸åœ¨ä¸€ä¸?æ•°ç»„ï¼? left åœ¨æ•°ç»? 1ï¼Œmid åœ¨æ•°ç»? 2ã€‚æƒ³åˆ°è¿™é‡Œå’±ä»?è¿™ä¸ªé¢˜ç›®å·²ç»å®Œæˆä¸€åŠäº†ã€?

![midå€¼æƒ…å†µ](https://cdn.jsdelivr.net/gh/tan45du/photobed@master/photo/midå€¼æƒ…å†?.3879bq8s3xk0.png)

é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥æ€è€ƒä¸€ä¸‹ï¼Œï¼Ÿæˆ‘ä»?å?ä»¥æ ¹æ? nums[mid] å’? nums[left] åˆ¤æ–­ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš? mid ä¸€å®šæ˜¯ä¼šè½åœ? left å’? right ä¹‹é—´ï¼Œé‚£å¦‚æœ nums[mid] >= nums[left] æ—¶ï¼Œè¯´æ˜ä»–ä¿©è½åœ¨ä¸€ä¸?æ•°ç»„é‡Œäº†ï¼Œå?‚æœ nums[mid] < nums[left] æ—¶ï¼Œè¯´æ˜ä»–ä¿©è½åœ¨äº†ä¸åŒçš„æ•°ç»„ï¼Œæ?¤æ—¶ left åœ¨æ•°ç»? 1 mid åœ¨æ•°ç»? 2.

æ³?ï¼šleft å’? mid è½åœ¨åŒä¸€æ•°ç»„æ—¶ï¼Œä¸èƒ½æ˜? left åœ? æ•°ç»„ 2 ï¼Œmid åœ? æ•°ç»„ 1 å‘?ï¼Ÿå› ä¸ºå’±ä»?çš? mid æ˜?é€šè¿‡ left å’? right çš„ä¸‹æ ‡æ±‚å¾—ï¼Œæ‰€ä»¥åº”è¯¥åœ¨ left å’? right ä¸?é—?

å¦‚æœæˆ‘ä»¬çš? mid å’? left åœ¨åŒä¸€ä¸?æ•°ç»„å†…æ—¶ï¼Ÿå’±ä»?çš? target ä¼šæœ‰å‡ ç?æƒ…å†µå‘¢ï¼Ÿæˆ‘ä»?é€šè¿‡éƒ½è½åœ? æ•°ç»„ 1 ä¸¾ä¾‹ã€?

![leftå·?](https://cdn.jsdelivr.net/gh/tan45du/photobed@master/photo/leftå·?.6kl90uroee40.png)

æ— éä¹Ÿæ˜¯ä¸¤ç?æƒ…å†µï¼Œç”¨æˆ‘ä»?ä¸Šé¢çš„ä¾‹å­æ¥è¯´ï¼Œ

1.**è½åœ¨ mid çš„å·¦è¾?**ï¼Œå½“å‰ä¾‹å­ä¸­ æƒ…å†µæ˜?è½åœ¨ [4,7ï¼‰åŒºé—´å†…ï¼Œå³ 4 <= target < 7 ï¼Œä¹Ÿå°±æ˜¯ target >= nums[left] && target < nums[mid]ï¼Œæ?¤æ—¶æˆ‘ä»¬è®? right = mid -1ï¼Œè?? left å’? right éƒ½è½åˆ°æ•°ç»? 1 ä¸?ï¼Œä¸‹æ¬¡æŸ¥æ‰¾æˆ‘ä»?å°±æ˜¯åœ¨æ•°ç»? 1 ä¸?è¿›è?Œäº†ï¼Œå®Œå…¨æœ‰åºï¼Œ

2.**è½åœ¨ mid çš„å³è¾?**ï¼Œæ?¤æ—¶ä¾‹å­ä¸? target ä¸è½åœ? [4,7ï¼‰åŒºé—´å†…ï¼Œé‚£å°? target = 8 æˆ? 0 <= target <= 2 ï¼ˆæ?¤æ—¶æˆ‘ä»¬çš? target å‡å°äº? nums[left]ï¼? ä¸¤ç?æƒ…å†µï¼Œä¹Ÿå°±æ˜? target > nums[mid] || target < nums[left] æ­¤æ—¶æˆ‘ä»¬è®? left = mid + 1 å³å¯ï¼Œä¹Ÿæ˜?ä¸ºäº†æ…¢æ…¢å°? left å’? right æŒ‡é’ˆèµ¶åˆ°ä¸€ä¸?æœ‰åºæ•°ç»„å†…ã€?

é‚£æˆ‘ä»?åœ¨æ¥æ€è€ƒä¸€ä¸‹å½“ mid å€¼è½åœ? **æ•°ç»„ 2** ä¸?æ—¶ï¼Œtarget ä¼šæœ‰å‡ ç?æƒ…å†µå‘¢ï¼Ÿå…¶å®å’Œä¸Šé¢çš„ä¾‹å­æ€è·¯ä¸€è‡´ï¼Œæƒ…å†µç›¸åè€Œå·²ã€?

![rightå³](https://cdn.jsdelivr.net/gh/tan45du/photobed@master/photo/rightå?.3yvrwxloi3c0.png)

1. target <= nums[right] && target > nums[mid]

   > è¿™é‡Œå’Œä¸Šé¢çš„å¯¹åº”ï¼Œæ?¤æ—¶çš„æƒ…å†µå°±æ˜?æ•´ä¸ªè½åœ¨å³åŠéƒ¨åˆ†ï¼Œæˆ‘ä»?ä¸‹æ?¡å°±å?ä»¥åœ¨æ•°ç»„ 2 å†…è¿›è¡ŒæŸ¥æ‰¾ã€?

2. target > nums[right] || target < nums[mid]

   > è¿™é‡Œå°±æ˜¯å’Œä¸Šé¢çš„ç¬?äºŒç?æƒ…å†µå?¹åº”ï¼Œè½åœ? mid çš„å·¦åŠéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°½é‡å°†ä¸¤ä¸?æŒ‡é’ˆèµ¶åˆ°ä¸€èµ?

å¸Œæœ›æˆ‘çš„è¡¨è¾¾èƒ½å?Ÿè?©å¤§å®¶å?¹è¿™ä¸?å˜ç?ç†è§£é€å½»ï¼Œå?‚æœæ²¡èƒ½è®©å„ä½ç†è§£ï¼Œæˆ–è€…æœ‰è¡¨è¾¾ä¸å½“çš„åœ°æ–¹æ?¢è¿å„ä½æ‰¹è¯„æŒ‡å?¼ã€‚ç„¶åæˆ‘ä»?ä¸€èµ·æ¥åšä¸€ä¸? leetcode 33 é¢˜å§ã€?

#### [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/)

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸?æ•´æ•°æ•°ç»„ nums ï¼Œå’Œä¸€ä¸?æ•´æ•° target ã€?

è¯¥æ•´æ•°æ•°ç»„åŸæœ?æ˜?æŒ‰å‡åºæ’åˆ—ï¼Œä½†è¾“å…¥æ—¶åœ¨é?„å…ˆæœ?çŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è?Œäº†æ—‹è½¬ã€‚ï¼ˆä¾‹å?‚ï¼Œæ•°ç»„ [0,1,2,4,5,6,7] å?èƒ½å˜ä¸? [4,5,6,7,0,1,2] ï¼‰ã€?

è¯·ä½ åœ¨æ•°ç»„ä¸­æœç´¢ target ï¼Œå?‚æœæ•°ç»„ä¸?å­˜åœ¨è¿™ä¸ªç›?æ ‡å€¼ï¼Œåˆ™è¿”å›å®ƒçš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å› -1 ã€?

ç¤ºä¾‹ 1ï¼?

> è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 0
> è¾“å‡ºï¼?4

ç¤ºä¾‹ 2ï¼?

> è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 3
> è¾“å‡ºï¼?-1

ç¤ºä¾‹ 3ï¼?

> è¾“å…¥ï¼šnums = [1], target = 0
> è¾“å‡ºï¼?-1

#### é¢˜ç›®è§£æ

è¿™ä¸ªé¢˜ç›®çš„è§£ç­”æ–¹æ³•ï¼Œå’±ä»¬åœ¨ä¸Šé¢å·²ç»æœ‰æ‰€æè¿°ï¼Œä¸‹é¢æˆ‘ä»?æ¥çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸?ä¾‹å­çš„ä»£ç æ‰§è¡Œè¿‡ç¨‹å§.

> è¾“å…¥ nums = [4,5,6,7,8,0,1,2] target = 8

ä¸‹é¢æˆ‘ä»¬çœ‹é?˜ç›®ä»£ç å§ï¼Œå¦‚æœè¿˜æ²¡æœ‰å®Œå…¨ç†è§£çš„åŒå?¦ï¼Œå?ä»¥ä»”ç»†é˜…è¯? if ï¼Œelse if é‡Œé¢çš„è??å¥ï¼Œè¿˜æœ‰æ³¨é‡Šï¼Œä¸€å®šå¯ä»¥æ•´é€çš„ã€?

#### é¢˜ç›®ä»£ç 

```java
class Solution {
    public int search(int[] nums, int target) {
        //å·¦å³æŒ‡é’ˆ
        int left = 0;
        int right = nums.length - 1;
        while (left <= right) {
            int mid = left+((right-left)>>1);
            if (nums[mid] == target) {
                return mid;
            }
            //è½åœ¨åŒä¸€æ•°ç»„çš„æƒ…å†µï¼ŒåŒæ—¶è½åœ¨æ•°ç»„1 æˆ? æ•°ç»„2
            if (nums[mid] >= nums[left]) {
                //target è½åœ¨ left å’? mid ä¹‹é—´ï¼Œåˆ™ç§»åŠ¨æˆ‘ä»¬çš„rightï¼Œå®Œå…¨æœ‰åºçš„ä¸€ä¸?åŒºé—´å†…æŸ¥æ‰?
                if (nums[mid] > target && target >= nums[left]) {
                       right = mid - 1;
                // target è½åœ¨rightå’? mid ä¹‹é—´ï¼Œæœ‰å?èƒ½åœ¨æ•°ç»„1ï¼? ä¹Ÿæœ‰å?èƒ½åœ¨æ•°ç»„2
                } else if (target > nums[mid] || target < nums[left]) {
                       left = mid + 1;
                }
            //ä¸è½åœ¨åŒä¸€æ•°ç»„çš„æƒ…å†µï¼Œleft åœ¨æ•°ç»?1ï¼? mid è½åœ¨ æ•°ç»„2
            }else if (nums[mid] < nums[left]) {
                //æœ‰åºçš„ä¸€æ®µåŒºé—´ï¼Œtarget åœ? mid å’? right ä¹‹é—´
                if (nums[mid] < target && target <= nums[right]) {
                    left = mid + 1;
                // ä¸¤ç?æƒ…å†µï¼Œtarget åœ¨left å’? mid ä¹‹é—´
                } else if (target < nums[mid] || target > nums[right]) {
                    right = mid - 1;
                }
            }
        }
        //æ²¡æœ‰æŸ¥æ‰¾åˆ?
        return -1;

    }
}
```

Go Code:

```go
func search(nums []int, target int) int {
    l, r := 0, len(nums) - 1
    for l <= r {
        m := (l + r) / 2
        if target == nums[m] {
            return m
        }
        // å…ˆåˆ¤æ–?å“?è¾¹æ˜¯æœ‰åºçš?
        if nums[m] < nums[r] {
            // å†åˆ¤æ–­targetåœ¨å·¦å³å“ªè¾?
            if target > nums[m] && target <= nums[r] {
                l = m + 1
            } else {
                r = m - 1
            }
        } else {
            if target < nums[m] && target >= nums[l] {
                r = m - 1
            } else {
                l = m + 1
            }
        }
    }
    return -1
}
```

## 
