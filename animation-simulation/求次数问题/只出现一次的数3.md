> å¦‚æœé˜…è?»æ—¶ï¼Œå‘ç°é”™è¯?ï¼Œæˆ–è€…åŠ¨ç”»ä¸å?ä»¥æ˜¾ç¤ºçš„é—?é¢˜å¯ä»¥æ·»åŠ æˆ‘å¾?ä¿¡å¥½å? **[tan45du_one](https://raw.githubusercontent.com/tan45du/tan45du.github.io/master/ä¸?äººå¾®ä¿?.15egrcgqd94w.jpg)** ï¼Œå?‡æ³¨ github + é¢˜ç›® + é—?é¢? å‘æˆ‘åé??
>
> æ„Ÿè°¢æ”?æŒï¼Œè¯¥ä»“åº“ä¼šä¸€ç›´ç»´æŠ¤ï¼Œå¸Œæœ›å¯¹å„ä½æœ‰ä¸€ä¸?ä¸¢å¸®åŠ©ã€?
>
> å¦å?–å¸Œæœ›æ‰‹æœºé˜…è¯»çš„åŒå?¦å¯ä»¥æ¥æˆ‘çš„ <u>[**å…?ä¼—å·ï¼šè?å¨çš„ç®—æ³•å°å±?**](https://raw.githubusercontent.com/tan45du/test/master/å¾?ä¿¡å›¾ç‰‡_20210320152235.2pthdebvh1c0.png)</u> ä¸¤ä¸ªå¹³å°åŒæ?¥ï¼Œæƒ³è?å’Œé¢˜å‹ä¸€èµ·åˆ·é¢˜ï¼Œäº’ç›¸ç›‘ç£çš„åŒå­¦ï¼Œå?ä»¥åœ¨æˆ‘çš„å°å±‹ç‚¹å‡»<u>[**åˆ·é?˜å°é˜?**](https://raw.githubusercontent.com/tan45du/test/master/å¾?ä¿¡å›¾ç‰‡_20210320152235.2pthdebvh1c0.png)</u>è¿›å…¥ã€?

#### [260. å?å‡ºç°ä¸€æ¬¡çš„æ•°å­— III](https://leetcode-cn.com/problems/single-number-iii/)

> ç»™å®šä¸€ä¸?æ•´æ•°æ•°ç»„ numsï¼Œå…¶ä¸?æ°å¥½æœ‰ä¸¤ä¸?å…ƒç´ å?å‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™æ‰€æœ‰å…ƒç´ å‡å‡ºç°ä¸¤æ?¡ã€? æ‰¾å‡ºå?å‡ºç°ä¸€æ¬¡çš„é‚£ä¸¤ä¸?å…ƒç´ ã€?

ç¤ºä¾‹ :

> è¾“å…¥: [1,2,1,3,2,5]
> è¾“å‡º: [3,5]

è¿™ä¸ªä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œç®—æ˜?å¯¹ç??ä¸€é¢˜çš„å‡çº§ï¼Œç??ä¸€é¢˜æœ‰ 1 ä¸?å‡ºç°ä¸€æ¬¡çš„æ•°ï¼Œå…¶ä½™å‡ºç°ä¸¤æ?¡ï¼Œè¿™ä¸ªé¢˜ç›®ä¸?æœ? 2 ä¸?å‡ºç°ä¸€æ¬¡çš„æ•°ï¼Œå…¶ä½™æ•°å­—å‡ºç°ä¸¤æ?¡ã€‚é‚£ä¹ˆè¿™ä¸?é¢˜ç›®æˆ‘ä»¬æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»?çœ‹ä¸€ä¸‹èƒ½ä¸èƒ½åˆ©ç”¨ç¬?ä¸€é¢˜ä¸­çš„åšæ³•è§£å†³ã€?

### HashSet

#### è§£æ

è¿™ä¸ªåšæ³•å’Œæˆ‘ä»?ç¬?ä¸€é¢˜çš„åšæ³•ä¸€è‡´ï¼Œå?è¦ç†è§£äº†ç¬?ä¸€é¢˜çš„åšæ³•ï¼Œè¿™ä¸?å¾ˆå?¹æ˜“å°±èƒ½å†™å‡ºæ¥ï¼Œæœ‰ä¸€ç‚¹ä¸åŒçš„æ˜?ï¼Œç??ä¸€é¢˜çš„ HashSet é‡Œé¢æœ€åä¿ç•™äº†ä¸€ä¸?å…ƒç´ ï¼Œè?¥é?˜ä¿ç•™ä¸¤ä¸?å…ƒç´ ã€?

#### é¢˜ç›®ä»£ç 

Java Code:

```java
class Solution {
    public int[] singleNumber(int[] nums) {
        HashSet<Integer> set = new HashSet<Integer>();
        for (int x : nums) {
            //å­˜åœ¨çš„åˆ™ç§»é™¤
            if (set.contains(x)) {
                set.remove(x);
            //ä¸å­˜åœ¨åˆ™å­˜å…¥
            } else {
                set.add(x);
            }
        }
        //å­˜åˆ°æ•°ç»„é‡Œï¼Œç„¶åè¿”å›
        int[] arr = new int[2];
        int i = 0;
        for (int y : set) {
           arr[i++] = y;
        }
        return arr;
    }
}
```

C++ Code:

```cpp
class Solution {
public:
    vector<int> singleNumber(vector<int>& nums) {
        unordered_set<int> set;
        for (int x : nums) {
            //å­˜åœ¨çš„åˆ™ç§»é™¤
            if (set.find(x) == set.end()) {
                set.insert(x);
            //ä¸å­˜åœ¨åˆ™å­˜å…¥
            } else {
                set.erase(x);
            }
        }
        //å­˜åˆ°æ•°ç»„é‡Œï¼Œç„¶åè¿”å›
        vector<int> arr;
        for (int y : set) {
            arr.push_back(y);
        }
        return arr;
    }
};
```

JS Code:

```javascript
var singleNumber = function (nums) {
  let set = new Set();
  for (let x of nums) {
    //å­˜åœ¨çš„åˆ™ç§»é™¤
    if (set.has(x)) {
      set.delete(x);
      //ä¸å­˜åœ¨åˆ™å­˜å…¥
    } else {
      set.add(x);
    }
  }
  //å­˜åˆ°æ•°ç»„é‡Œï¼Œç„¶åè¿”å›
  let arr = [];
  for (let y of set) {
    arr.push(y);
  }
  return arr;
};
```

Python Code:

```python
class Solution:
    def singleNumber(self, nums: List[int]) -> List[int]:
        set_ = set()
        for x in nums:
            # å­˜åœ¨çš„åˆ™ç§»é™¤
            if x in set_:
                set_.remove(x)
            # ä¸å­˜åœ¨åˆ™å­˜å…¥
            else:
                set_.add(x)
        # å­˜åˆ°æ•°ç»„é‡Œï¼Œç„¶åè¿”å›
        arr = []
        for y in set_:
            arr.append(y)
        return arr
```

### ä½è¿ç®?

#### è§£æ

ç¬?ä¸€é¢˜ä¸­ï¼Œæˆ‘ä»?å?ä»¥é€šè¿‡å¼‚æˆ–è¿ç®—ç›´æ¥æ±‚å‡ºç›?æ ‡æ•°ï¼Œä½†æ˜?æˆ‘ä»¬ç¬?äºŒé?˜ä¸­ä¸èƒ½ç›´æ¥ç”¨å¼‚æˆ–ï¼Œæ˜?å› ä¸ºå…¶ä»–æ•°å­—éƒ½å‡ºç°ä¸‰æ¬¡ï¼Œç›?æ ‡æ•°å‡ºç°ä¸€æ¬¡ã€‚åœ¨è¿™ä¸ªé¢˜ç›®ä¸?å…¶ä»–æ•°å­—å‡ºç°ä¸¤æ?¡ï¼Œç›?æ ‡æ•°å‡ºç°ä¸€æ¬¡ï¼Œä½†æ˜¯è¿™æ?¡çš„ç›?æ ‡æ•°ä¸ºä¸¤ä¸?ï¼Œæˆ‘ä»?ç›´æ¥å¼‚æˆ–è¿ç®—çš„è¯ï¼Œå¾—åˆ°çš„æ•°åˆ™ä¸ºä¸¤ä¸?ç›?æ ‡æ•°çš„å¼‚æˆ–å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è?¥æ€ä¹ˆåšå‘¢ï¼?

æˆ‘ä»¬è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬å…ˆå°†å…ƒç´ åˆ†æˆä¸¤ç»„ï¼Œç„¶åæ¯ç»„åŒ…å?ä¸€ä¸?ç›?æ ‡å€¼ï¼Œé‚£ä¹ˆå¼‚æˆ–ä¹‹åï¼Œæ¯ç»„å¾—åˆ°ä¸€ä¸?ç›?æ ‡å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸å°±å°†ä¸¤ä¸?ç›?æ ‡å€¼æ±‚å‡ºäº†å—ï¼Ÿ

> ä¾‹ï¼š **a, b, a, b, c, d, e, f, e, f **
>
> åˆ†ç»„åï¼š
>
> â€? A ç»„ï¼ša, a, b, b, c å¼‚æˆ–å¾—åˆ° c
>
> â€? B ç»„ï¼še, e, f, f, d å¼‚æˆ–å¾—åˆ° d

åŸç†æ‡‚äº†ï¼Œé‚£ä¹ˆæˆ‘ä»?åº”è?¥ä¾æ?ä»€ä¹ˆè?„åˆ™å¯¹å…¶è¿›è?Œåˆ†ç±»å‘¢ï¼?

cï¼Œd ä¸¤ä¸ªä¸åŒçš„æ•°ï¼Œé‚£ä¹ˆäºŒè¿›åˆ¶ä¸Šå¿…å®šæœ‰ä¸€ä½æ˜¯ä¸åŒçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ ¹æ?è¿™ä¸€ä½ï¼ˆåˆ†ç»„ä½ï¼‰æ¥å°† cï¼Œd åˆ†åˆ°ä¸¤ä¸ªç»„ä¸­ï¼Œæ•°ç»„ä¸­çš„å…¶ä»–å…ƒç´ ï¼Œè¦ä¹ˆåœ? A ç»„ä¸­ï¼Œè?ä¹ˆåœ? B ç»„ä¸­ã€?

æˆ‘ä»¬åº”è?¥æ€ä¹ˆå¾—åˆ°åˆ†ç»„ä½å‘¢ï¼?

æˆ‘ä»¬è®? cï¼Œd å¼‚æˆ–å³å¯ï¼Œå¼‚æˆ–è¿ç®—å°±æ˜?å¯¹åº”ä½ä¸åŒæ—¶å¾? 1ï¼Œå¼‚æˆ–ä¹‹åå€¼ä¸º 1 çš„å…¶ä¸?ä¸€ä½åˆ™ä¸ºæˆ‘ä»?åˆ†ç»„ã€?

ä¾? 001 âŠ? 100 = 101ï¼Œæˆ‘ä»?å?ä»¥ç”¨æœ€å³è¾¹çš? 1 æˆ–æœ€å·¦è¾¹çš? 1 åšä¸ºåˆ†ç»„ä½ï¼Œæ•°ç»„å…ƒç´ ä¸?ï¼Œè‹¥æˆ‘ä»¬å°†æœ€å³è¾¹çš? 1 ä½œä¸ºæˆ‘ä»¬çš„åˆ†ç»„ä½ï¼Œæœ€åä¸€ä½ä¸º 0 çš„åˆ™è¿›å…¥ A ç»„ï¼Œä¸? 1 çš„è¿›å…? B ç»„ã€?

é‚£ä¹ˆæˆ‘ä»¬åº”è?¥æ€ä¹ˆå€ŸåŠ©åˆ†ç»„ä½è¿›è¡Œåˆ†ç»„å‘¢ï¼?

æˆ‘ä»¬å¤„ç† c , d çš„å¼‚æˆ–å€¼ï¼Œå?ä»¥ä»…ä¿ç•™å¼‚æˆ–å€¼çš„åˆ†ç»„ä½ï¼Œå…¶ä½™ä½å˜ä¸? 0 ï¼Œä¾‹å¦? 101 å˜æˆ 001 æˆ? 100ã€?

ä¸ºä»€ä¹ˆè?è¿™ä¹ˆåšå‘?ï¼Ÿåœ¨ç¬?äºŒé?˜æåˆ°ï¼Œæˆ‘ä»¬å?ä»¥æ ¹æ? a & 1 æ¥åˆ¤æ–? a çš„æœ€åä¸€ä½ä¸º 0 è¿˜æ˜¯ä¸? 1ï¼Œæ‰€ä»¥æˆ‘ä»?å°? 101 å˜æˆ 001 ä¹‹åï¼Œç„¶åæ•°ç»„å†…çš„å…ƒç´? x & 001 å³å¯å¯? x è¿›è?Œåˆ†ç»? ã€‚åŒæ ·ä¹Ÿå?ä»? x & 100 è¿›è?Œåˆ†ç»„ã€?

é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ‰èƒ½ä»…ä¿ç•™åˆ†ç»„ä½ï¼Œå…¶ä½™ä½å˜ä¸º 0 å‘?ï¼Ÿä¾‹ 101 å˜ä¸º 001ã€?

æˆ‘ä»¬å?ä»¥åˆ©ç”? x & (-x) æ¥ä¿ç•™æœ€å³è¾¹çš? 1ã€?

![åˆ†ç»„ä½](https://cdn.jsdelivr.net/gh/tan45du/tan45du.github.io.photo@master/photo/åˆ†ç»„ä½?.25gbi25kv7c0.png)

#### é¢˜ç›®ä»£ç ï¼?

Java Code:

```java
class Solution {
    public int[] singleNumber(int[] nums) {
        //å°å¿ƒæº¢å‡º
        long temp = 0;
        //æ±‚å‡ºå¼‚æˆ–å€?
        for (int x : nums) {
            temp ^= x;
        }
        System.out.println(temp);
        System.out.println(-temp);
        //ä¿ç•™æœ€å³è¾¹çš„ä¸€ä¸? 1
        long group = temp & (-temp);
        int[] arr = new int[2];
        for (int y : nums) {
            //åˆ†ç»„ä½ä¸º 0 çš„ç»„ï¼Œç»„å†…å¼‚æˆ?
            if ((group & y) == 0) {
                arr[0] ^= y;
            //åˆ†ç»„ä½ä¸º 1 çš„ç»„ï¼Œç»„å†…å¼‚æˆ?
            } else {
                arr[1] ^= y;
            }
        }
        return arr;
    }
}
```

Go Code:

```go
func singleNumber(nums []int) []int {
    temp := 0
    for _, x := range nums {
        temp ^= x
    }
    // ä¿ç•™æœ€åé‚£ä¸?1ï¼Œä¸ºäº†åŒºåˆ†ä¸¤ä¸?æ•?
    group := temp & (^temp + 1)

    res := make([]int, 2)
    for _, x := range nums {
        if group & x == 0{
            res[0] ^= x
        } else {
            res[1] ^= x
        }
    }
    return res
}
```

C++ Code:

```cpp
class Solution {
public:
    vector<int> singleNumber(vector<int>& nums) {
        //å°å¿ƒ -temp æº¢å‡º
        long temp = 0;
        //æ±‚å‡ºå¼‚æˆ–å€?
        for (int x : nums) {
            temp ^= x;
        }
        //ä¿ç•™æœ€å³è¾¹çš„ä¸€ä¸? 1
        int group = temp & (-temp);
        vector<int> arr(2, 0);
        for (int y : nums) {
            //åˆ†ç»„ä½ä¸º 0 çš„ç»„ï¼Œç»„å†…å¼‚æˆ?
            if ((group & y) == 0) {
                arr[0] ^= y;
            //åˆ†ç»„ä½ä¸º 1 çš„ç»„ï¼Œç»„å†…å¼‚æˆ?
            } else {
                arr[1] ^= y;
            }
        }
        return arr;
    }
};
```

JS Code:

```javascript
var singleNumber = function (nums) {
  let temp = 0;
  //æ±‚å‡ºå¼‚æˆ–å€?
  for (let x of nums) {
    temp ^= x;
  }
  //ä¿ç•™æœ€å³è¾¹çš„ä¸€ä¸? 1
  let group = temp & -temp;
  let arr = [0, 0];
  for (let y of nums) {
    //åˆ†ç»„ä½ä¸º 0 çš„ç»„ï¼Œç»„å†…å¼‚æˆ?
    if ((group & y) == 0) {
      arr[0] ^= y;
      //åˆ†ç»„ä½ä¸º 1 çš„ç»„ï¼Œç»„å†…å¼‚æˆ?
    } else {
      arr[1] ^= y;
    }
  }
  return arr;
};
```

Python Code:

```python
class Solution:
    def singleNumber(self, nums: List[int]) -> List[int]:
        temp = 0
        # æ±‚å‡ºå¼‚æˆ–å€?
        for x in nums:
            temp ^= x
        # ä¿ç•™æœ€å³è¾¹çš„ä¸€ä¸? 1
        group = temp & (-temp)
        arr = [0, 0]
        for y in nums:
            # åˆ†ç»„ä½ä¸º 0 çš„ç»„ï¼Œç»„å†…å¼‚æˆ?
            if (group & y) == 0:
                arr[0] ^= y
            # åˆ†ç»„ä½ä¸º 1 çš„ç»„ï¼Œç»„å†…å¼‚æˆ?
            else:
                arr[1] ^= y
        return arr
```
